-- Generated by CSharp.lua Compiler
local System = System
local ET = ET
local ETEventType = ET.EventType
System.namespace("ET", function (namespace)
  namespace.class("SceneFactory", function (namespace)
    local CreateZoneScene
    CreateZoneScene = function (zone, name)
      return System.async(function (async, zone, name)
        local zoneScene = ET.EntitySceneFactory.CreateScene1(ET.Game.getIdGenerater():GenerateId(), zone, ET.SceneType.Zone, name, ET.Game.getScene())
        zoneScene:AddComponent2(ET.ZoneSceneFlagComponent)
        zoneScene:AddComponent2(ET.NetKcpComponent)
        zoneScene:AddComponent2(ET.UnitComponent)
        zoneScene:AddComponent3(1, ET.AIComponent, System.Int32)

        -- UI层的初始化
        local default = ETEventType.AfterCreateZoneScene()
        default.ZoneScene = zoneScene
        async:Await(ET.Game.getEventSystem():Publish(default, ETEventType.AfterCreateZoneScene))

        return zoneScene
      end, nil, zone, name)
    end
    return {
      CreateZoneScene = CreateZoneScene,
      __metadata__ = function (out)
        return {
          methods = {
            { "CreateZoneScene", 0x28E, CreateZoneScene, System.Int32, System.String, out.ET.ETTask_1(out.ET.Scene) }
          },
          class = { 0xE }
        }
      end
    }
  end)
end)
