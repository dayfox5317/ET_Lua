-- Generated by CSharp.lua Compiler
local System = System
local ET = ET
local ET
System.import(function (out)
  ET = out.ET
end)
System.namespace("ET", function (namespace)
  namespace.class("UIComponentAwakeSystem", function (namespace)
    local Awake
    Awake = function (this, self)
    end
    return {
      base = function (out)
        return {
          out.ET.AwakeSystem_1(out.ET.UIComponent)
        }
      end,
      Awake = Awake,
      __metadata__ = function (out)
        return {
          methods = {
            { "Awake", 0x106, Awake, out.ET.UIComponent }
          },
          class = { 0x6 }
        }
      end
    }
  end)

  -- <summary>
  -- 管理Scene上的UI
  -- </summary>
  namespace.class("UIComponentSystem", function (namespace)
    local Create, Remove, Get
    Create = function (self, uiType)
      return System.async(function (async, self, uiType)
        local ui = async:Await(ET.UIEventComponentSystem.OnCreate(ET.UIEventComponent.Instance, self, uiType))
        self.UIs:AddKeyValue(uiType, ui)
        return ui
      end, nil, self, uiType)
    end
    Remove = function (self, uiType)
      local default, ui = self.UIs:TryGetValue(uiType)
      if not default then
        return
      end

      ET.UIEventComponentSystem.OnRemove(ET.UIEventComponent.Instance, self, uiType)

      self.UIs:RemoveKey(uiType)
      ui:Dispose()
    end
    Get = function (self, name)
      local ui = nil
      local _
      _, ui = self.UIs:TryGetValue(name)
      return ui
    end
    return {
      Create = Create,
      Remove = Remove,
      Get = Get,
      __metadata__ = function (out)
        return {
          methods = {
            { "Create", 0x28E, Create, out.ET.UIComponent, System.String, out.ET.ETTask_1(out.ET.UI) },
            { "Get", 0x28E, Get, out.ET.UIComponent, System.String, out.ET.UI },
            { "Remove", 0x20E, Remove, out.ET.UIComponent, System.String }
          },
          class = { 0xE }
        }
      end
    }
  end)
end)
